!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){let t=i.listConatiner;i.listConatiner.innerHTML="";let n=document.createElement("h1");n.innerText=e.name,t.appendChild(n),e.lists.forEach(n=>{let i=new Date,c=document.createElement("div"),o=document.createElement("p");n.status?c.classList.add("list-item","completed"):i>=new Date(n.dueDate)?c.classList.add("list-item","late"):c.classList.add("list-item");let s=document.createElement("h2"),a=document.createElement("p"),l=document.createElement("span"),u=document.createElement("span");if(l.classList.add("material-icons","trash"),u.classList.add("material-icons","check"),l.innerText="close",u.innerText="check",u.addEventListener("click",()=>{n.status?n.status=!1:n.status=!0,c.classList.toggle("completed")}),l.addEventListener("click",()=>{v(e,n),r(e)}),n.notes){document.createElement("p").innerText=n.notes}a.innerText=n.description,s.innerText=n.title,o.innerText=n.dueDate,function(e,t=[]){t.forEach(t=>{e.appendChild(t)})}(c,[s,document.createElement("hr"),a,o,u,l]),t.appendChild(c)});let c=document.createElement("button");c.classList="new",c.innerText="New List",c.addEventListener("click",()=>function(e){i.listConatiner.innerHTML='\n    <div class="new-todo">\n    <h2> New To Do </h2>\n    <form action="prevent()">\n                <input type="text" name="title" placeholder="List Name" required>\n                <br>\n                <input type="text" name="description" placeholder="List Description" required>\n                <br>\n                <input type="date" name="date" placeholder="Date" required>\n                <br>\n                <input type="submit" name="submit-list" value="Submit">\n            </form>\n    </div>\n    ',document.getElementsByName("submit-list")[0].addEventListener("click",t=>{t.preventDefault(),function(e,t,n,i){g(e,new y(t,n,i)),r(e)}(e,document.getElementsByName("title")[0].value,document.getElementsByName("description")[0].value,document.getElementsByName("date")[0].value)})}(e)),t.appendChild(c)}n.r(t),n.d(t,"ToDoList",(function(){return y})),n.d(t,"addList",(function(){return g})),n.d(t,"deleteList",(function(){return v})),n.d(t,"deleteProject",(function(){return b})),n.d(t,"check",(function(){return S})),n.d(t,"start",(function(){return f})),n.d(t,"reset",(function(){return E}));const i={listConatiner:document.querySelector(".list")};function c(){return!!firebase.auth().currentUser}function o(e){if(e){let e=firebase.auth().currentUser.photoURL;var t=firebase.auth().currentUser.displayName;l.style.display="none",u.style.display="inline",m.style.backgroundImage=`url('${e}')`,d.innerHTML=t}else u.style.display="none",l.style.display="inline",m.style.backgroundImage="url('https://cdn.pixabay.com/photo/2017/09/25/13/12/dog-2785074_960_720.jpg')",d.innerHTML="Guest";f(),E()}function s(e,t){return firebase.firestore().collection("projects").doc(t).set({name:e.name,description:e.description,lists:[],id:e.id,uid:firebase.auth().currentUser.uid}).catch(e=>{console.error("Error writing new message to data base",e)})}function a(e,t){const n=t.map(e=>Object.assign({},e));firebase.firestore().collection("projects").doc(e).update({lists:n})}const l=document.querySelector("#sign-in"),u=document.querySelector("#sign-out"),d=document.querySelector(".user-name"),m=document.querySelector(".user-image");l.addEventListener("click",(function(){let e=new firebase.auth.GoogleAuthProvider;return firebase.auth().signInWithPopup(e)})),u.addEventListener("click",(function(){firebase.auth().signOut()}));document.querySelector("#sign-in");let p=[];async function f(){if(c()){let e=await async function(){let e=[];return(await firebase.firestore().collection("projects").get()).forEach(t=>{t.data().uid===firebase.auth().currentUser.uid&&e.push(t.data())}),e}();p=e}else localStorage.getItem("allProjects")||localStorage.setItem("allProjects",JSON.stringify(p)),p=JSON.parse(localStorage.getItem("allProjects"));!function(){if(!p.length){const e=new h("Example Project","This is an example");c()?s(e,e.id).then(t=>{g(e,new y("Example List","Example Description","10-20-20",3,"Optional Notes",!1)),document.querySelector("#view").click(),document.querySelector(".project-names").click()}):(localStorage.setItem("allProjects",JSON.stringify(p)),g(e,new y("Example List","Example Description","10-20-20",3,"Optional Notes",!1)),document.querySelector("#view").click(),document.querySelector(".project-names").click())}}(),document.querySelector("#new-project").addEventListener("click",()=>{document.querySelector(".list").innerHTML='\n        <div class="new-project-form"\n        <h2> New Project </h2>\n            <form class="project-form">\n                <input type="text" name="project-name" id="" placeholder="Project Name" required>\n                <br>\n                <input type="text" name="project-description" id="" placeholder="Project Description">\n                <br>\n                <input type="submit" id="submit-project" />\n            </form>\n        </div>\n        ',document.getElementById("submit-project").addEventListener("click",e=>{e.preventDefault();let t={projectName:document.getElementsByName("project-name")[0].value,projectDescription:document.getElementsByName("project-description")[0].value},n=new h(t.projectName,t.projectDescription);c()&&s(n,n.id),r(p[p.length-1]),j(),document.querySelector("#view").click()})}),j()}firebase.auth().onAuthStateChanged(o);class y{constructor(e,t,n,r=1,i="",c=!1){this.status=c,this.title=e,this.description=t,this.dueDate=n,this.priority=r,this.notes=i}}class h{constructor(e,t){this.name=e,this.description=t,this.lists=[],this.id="_"+Math.random().toString(36).substr(2,9),p.push(this),c()||localStorage.setItem("allProjects",JSON.stringify(p))}}function g(e,t){e.lists.push(t),c()?a(e.id,e.lists):localStorage.setItem("allProjects",JSON.stringify(p))}function v(e,t){let n=e.lists.indexOf(t);e.lists.splice(n,1),c()?a(e.id,e.lists):localStorage.setItem("allProjects",JSON.stringify(p)),r(e)}function b(e){var t;c()?(t=e.id,firebase.firestore().collection("projects").doc(t).delete()):(p.splice(p.indexOf(e),1),localStorage.setItem("allProjects",JSON.stringify(p))),document.querySelector("#view").click(),document.querySelector("#view").click(),document.querySelector(".list").innerHTML=""}function S(e){return!0}function j(){!function(e=[]){const t=document.querySelector("#view"),n=document.querySelector("#projects");let i=document.querySelector("#a"),c=!1;t.addEventListener("click",()=>{c?(i.innerText="arrow_right",n.classList.remove("show"),c=!1):(i.innerText="arrow_drop_down",n.innerHTML="",e.forEach(e=>{let t=document.createElement("p"),i=document.createElement("span");i.classList.add("material-icons"),i.innerText="delete_forever",t.addEventListener("click",t=>{r(e)}),i.addEventListener("click",t=>{b(e)}),t.classList.add("project-names"),t.innerHTML=e.name,t.appendChild(i),n.appendChild(t),n.classList.add("show")}),c=!0)})}(p),c()||localStorage.setItem("allProjects",JSON.stringify(p))}function E(){document.querySelector("#view").classList.remove("show")}f()}]);